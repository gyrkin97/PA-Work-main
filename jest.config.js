// ===================================================================
// Файл: jest.config.js (ФИНАЛЬНАЯ ВЕРСИЯ ПОСЛЕ ЗАМЕНЫ UUID)
// ===================================================================

module.exports = {
  // Указываем среду выполнения
  testEnvironment: 'node',

  // Выводить детальную информацию о каждом тесте
  verbose: true,

  // Автоматически очищать моки между тестами
  clearMocks: true,

  // Указываем Jest, где искать тесты.
  // Эта настройка важна, чтобы он не лез в папку `public/js`.
  testMatch: [
    '**/__tests__/**/*.test.js',
  ],
  
  // =================================================================
  // Мы убрали `transformIgnorePatterns` и `moduleNameMapper`,
  // так как они больше не нужны после установки старой версии uuid.
  // =================================================================

  // Опции для поиска "зависших" процессов. Оставляем их.
  detectOpenHandles: true,
  forceExit: true,
};