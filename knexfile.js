// ===================================================================
// Файл: knexfile.js (ФИНАЛЬНАЯ ИТОГОВАЯ ВЕРСИЯ С АБСОЛЮТНЫМИ ПУТЯМИ)
// ===================================================================

// === КЛЮЧЕВОЕ ИСПРАВЛЕНИЕ 2.2: Гарантируем, что .env файл будет найден ===
const path = require('path');
require('dotenv').config({ path: path.resolve(__dirname, './.env') });

// Импортируем конфигурацию из централизованного файла
const config = require('./config/config');

// Экспортируем конфигурацию для разных окружений, которую использует Knex CLI.
module.exports = {
  development: config.db,
  test: config.db,
  production: config.db,
};