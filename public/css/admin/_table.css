/* ===================================================================
 * ФАЙЛ: public/css/admin/_table.css (ПОЛНАЯ ФИНАЛЬНАЯ ВЕРСИЯ)
 * ===================================================================
 * ПРИМЕЧАНИЕ: Общие стили для кнопок, заголовков и контейнеров
 * находятся в _main.css.
 */

/* --- 1. Контейнер и сама таблица --- */

#resultsTableContainer {
    position: relative;
    min-height: 200px;
}

.table-container {
    background-color: white;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    overflow-x: auto; /* Для адаптивности на малых экранах */
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

table.admin-table {
    width: 100%;
    border-collapse: collapse;
}

/* --- 2. Заголовки и ячейки таблицы --- */

table.admin-table th,
table.admin-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid var(--gray-light);
    vertical-align: middle;
    white-space: nowrap; /* Предотвращает перенос текста в ячейках */
}

table.admin-table th {
    background-color: var(--light);
    font-weight: 600;
    color: var(--dark);
    user-select: none;
}

table.admin-table th.sortable {
    cursor: pointer;
}

table.admin-table th.sortable:hover {
    background-color: var(--gray-light);
    color: var(--primary);
}

table.admin-table tbody tr:last-child td {
    border-bottom: none;
}

table.admin-table tbody tr {
    animation: slideIn 0.3s ease-out backwards;
}

table.admin-table tbody tr:nth-child(1) { animation-delay: 0.05s; }
table.admin-table tbody tr:nth-child(2) { animation-delay: 0.08s; }
table.admin-table tbody tr:nth-child(3) { animation-delay: 0.11s; }
table.admin-table tbody tr:nth-child(4) { animation-delay: 0.14s; }
table.admin-table tbody tr:nth-child(5) { animation-delay: 0.17s; }
table.admin-table tbody tr:nth-child(6) { animation-delay: 0.20s; }
table.admin-table tbody tr:nth-child(7) { animation-delay: 0.23s; }
table.admin-table tbody tr:nth-child(8) { animation-delay: 0.26s; }
table.admin-table tbody tr:nth-child(9) { animation-delay: 0.29s; }
table.admin-table tbody tr:nth-child(10) { animation-delay: 0.32s; }

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

table.admin-table tbody tr:hover {
    background-color: var(--light);
    transition: background-color 0.2s ease;
}

/* --- Подсветка новых результатов --- */
table.admin-table tbody tr.new-result-highlight {
    animation: highlightFade 3s ease-in-out, slideInTop 0.5s ease-out;
}

@keyframes highlightFade {
    0% {
        background-color: #fff3cd;
    }
    100% {
        background-color: transparent;
    }
}

@keyframes slideInTop {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* --- 3a. Чекбоксы для таблиц с результатами --- */
#selectAllResultsCheckbox,
.result-checkbox {
    width: 1.15rem;
    height: 1.15rem;
    cursor: pointer;
    accent-color: var(--primary);
}

/* --- 3. Стилизация специфичных элементов в таблице --- */

.status-label {
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-radius);
    font-size: 0.8rem;
    font-weight: 700;
    color: white;
    text-align: center;
    text-transform: uppercase;
}
.status-label.status-pass { background-color: var(--success); }
.status-label.status-fail { background-color: var(--danger); }
.status-label.status-pending { background-color: var(--warning); color: var(--dark); }


/* Стили для кнопки "Удалить выбранные" */
#deleteSelectedResultsBtn {
  opacity: 0;
  transform: scale(0.95) translateY(-10px);
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s 0.3s;
}

#deleteSelectedResultsBtn.visible {
  opacity: 1;
  transform: scale(1) translateY(0);
  visibility: visible;
  pointer-events: auto;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s 0s;
}

/* --- 4. Стили для пагинации --- */
#paginationContainer {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1.5rem;
    flex-wrap: wrap;
    animation: fadeIn 0.4s ease-in-out;
}

#paginationContainer .btn {
    min-width: 44px; /* Для красивых круглых кнопок с одной цифрой */
    transition: all 0.2s ease;
}

#paginationContainer .btn:hover:not([disabled]) {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* --- НОВОЕ: Стили для ячейки с действиями --- */
table.admin-table td.actions-cell {
    text-align: center;
}

/* --- НОВОЕ: Стили для подсветки процентов --- */
.percentage-cell {
    font-weight: 700;
}
.percentage-cell.status-pass {
    color: var(--success);
}
.percentage-cell.status-fail {
    color: var(--danger);
}
.percentage-cell.status-pending {
    color: var(--warning);
}
